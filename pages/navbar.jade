mixin navlink(pagetitle, path)
	- var clazz = ( req.url.match('^' + path) ? 'active' : '' )
	li(class=clazz)
		a(href=path) #{pagetitle}

.navbar.navbar-default(role='navigation')
	.container

		.navbar-header

			button.navbar-toggle(type='button', data-toggle='collapse',  data-target='#navbar-primary')
				span.sr-only Toggle navigation
				span.icon-bar
				span.icon-bar
				span.icon-bar

			a.navbar-brand(href='/') Intelligencia

		#navbar-primary.collapse.navbar-collapse

			ul.nav.navbar-nav
				if auth.isValid
					+navlink('Documents', '/document/list')
					if auth.isAdmin
						+navlink('User List', '/user/list')
					+navlink('User Dashboard', '/user/dash')

				block extranav

			ul.nav.navbar-nav.navbar-right
				if auth.isValid
					+navlink('Sign-out', '/logout')
				else if req.url.match('^/login')
					+navlink('Register', '/register')
				else
					+navlink('Sign-in', '/login')
